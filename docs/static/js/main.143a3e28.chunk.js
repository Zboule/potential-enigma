(this.webpackJsonpcosmonio=this.webpackJsonpcosmonio||[]).push([[0],{105:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),c=n.n(o),s=(n(74),n(6)),i=n(7),l=n(8),u=n(9),h=(n(75),n(50)),p=n(17),f=n.n(p),d=n(34),m=(n(77),n(78),n(63)),v=n.n(m),g=n(44),b=n.n(g),j=n(62),O=n.n(j),y=n(64),k=n.n(y),C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.onChange=function(t){e.setState({value:t.target.value})},e.onClick=function(){e.props.onSearch(e.state.value)},e.keyPress=function(t){13===t.keyCode&&e.props.onSearch(e.state.value)},e}return Object(i.a)(n,[{key:"render",value:function(){return a.createElement(O.a,{className:"search-input",id:"outlined-size-normal",placeholder:"Search",onChange:this.onChange,onKeyDown:this.keyPress,autoComplete:"off",endAdornment:a.createElement(v.a,{position:"end"},a.createElement(b.a,{"aria-label":"toggle password visibility",onClick:this.onClick,edge:"end"},a.createElement(k.a,null)))})}}]),n}(a.Component),E=(n(105),n(106),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleScroll=function(t){var n=t.target;n.scrollHeight-n.scrollTop<=n.clientHeight+1&&e.props.onScrollEnd()},e}return Object(i.a)(n,[{key:"render",value:function(){return a.createElement("div",{className:"photo-gallery",onScroll:this.props.onScrollEnd?this.handleScroll:void 0},this.props.children||a.createElement("div",{className:"empty"},a.createElement("p",null,"search something ...")))}}]),n}(a.Component)),S=(n(107),n(108),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return a.createElement("div",{className:"card",onClick:function(){e.props.onClick&&e.props.onClick()}},a.createElement("div",{className:"img-container"},a.createElement("img",{crossOrigin:"anonymous",id:this.props.id,src:this.props.url,alt:this.props.alt,onLoad:function(){e.props.onLoad&&e.props.onLoad()}})),a.createElement("div",{className:"title"},this.props.title))}}]),n}(a.Component)),P=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return a.createElement(S,Object.assign({url:"https://farm"+this.props.farm+".staticflickr.com/"+this.props.server+"/"+this.props.id+"_"+this.props.secret+".jpg",onClick:this.props.onClick,alt:this.props.title},this.props,{id:this.props.divId?this.props.divId:this.props.id}))}}]),n}(a.Component),w=(n(109),n(65)),N=n.n(w),L=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return a.createElement("div",{className:"loader"},a.createElement(N.a,{type:"Puff",color:"#00BFFF",height:100,width:100}))}}]),n}(a.Component),x=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).lastLoadedPage=0,e.searchValue="",e.state={photos:[],isLoading:!1},e.handleClickPhoto=function(t){return function(){e.props.onClickPhoto(t)}},e.handleSearchChange=function(){var t=Object(d.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.searchValue!==n){t.next=2;break}return t.abrupt("return");case 2:e.searchValue=n,e.lastLoadedPage=0,""===e.searchValue?e.setState({photos:[]}):(console.log(""===e.searchValue,e.searchValue),e.setState({isLoading:!0}),e.getNextPage());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleScrollEnd=Object(d.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!==e.searchValue&&e.getNextPage();case 1:case"end":return t.stop()}}),t)}))),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.defaultSearch&&""!==this.props.defaultSearch&&this.handleSearchChange(this.props.defaultSearch)}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:"flickr-search"},a.createElement("div",{className:"search-container"},a.createElement(C,{onSearch:this.handleSearchChange})),a.createElement("div",{className:"gallery-container"},this.state.isLoading?a.createElement(L,null):null,a.createElement(E,{onScrollEnd:this.handleScrollEnd},this.state.photos.length>0&&this.state.photos.map((function(t){return a.createElement(P,Object.assign({key:t.id},t,{onClick:e.handleClickPhoto(t)}))})))))}},{key:"getNextPage",value:function(){var e=Object(d.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPhotos(this.searchValue,this.lastLoadedPage+1);case 2:t=e.sent,n=t.photo,this.lastLoadedPage>1&&(n=[].concat(Object(h.a)(this.state.photos),Object(h.a)(n))),this.lastLoadedPage=t.page,this.setState({photos:n,isLoading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPhotos",value:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,a,r,o,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:0,a=["method=flickr.photos.search","api_key=ef1f9d4f8ca80dada31c684364355282","FLickrApi_sig=d7f57fa9e01a6a2d6ccd8597b8d2f86b","nojsoncallback=1","format=json","tags="+t,"page="+n,"per_page=50","content_type=7"],e.next=4,fetch("https://api.flickr.com/services/rest?"+a.join("&"));case 4:return r=e.sent,e.next=7,r.json();case 7:return o=e.sent,e.abrupt("return",o.photos);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(a.Component),A=(n(129),n(66)),V=n.n(A),_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return a.createElement("div",{className:"full-screen-content"},a.createElement("div",{className:"close",onClick:function(){e.props.onClose()}},a.createElement(b.a,{"aria-label":"close"},a.createElement(V.a,{fontSize:"large"}))),this.props.children)}}]),n}(a.Component),F=(n(130),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).applyTransform=function(){console.log("apply effect");var e=window.cv,t=e.imread("full-screen-image"),n=new e.Mat;e.cvtColor(t,t,e.COLOR_RGB2GRAY,0),e.Canny(t,n,50,100,3,!1),e.imshow("canvasOutput",n),t.delete(),n.delete()},e}return Object(i.a)(n,[{key:"render",value:function(){return a.createElement("div",{className:"open-cv-effect"},a.createElement(P,Object.assign({},this.props.photo,{onLoad:this.applyTransform,divId:"full-screen-image"})),a.createElement("canvas",{id:"canvasOutput"}))}}]),n}(a.Component)),I=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={fullScreenPhoto:void 0},e.onClickPhoto=function(t){e.setState({fullScreenPhoto:t})},e.onClose=function(){e.setState({fullScreenPhoto:void 0})},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{onClickPhoto:this.onClickPhoto}),void 0!==this.state.fullScreenPhoto&&r.a.createElement(_,{onClose:this.onClose},r.a.createElement(F,{photo:this.state.fullScreenPhoto})))}}]),n}(r.a.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root"))},69:function(e,t,n){e.exports=n(131)},74:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){}},[[69,1,2]]]);
//# sourceMappingURL=main.143a3e28.chunk.js.map